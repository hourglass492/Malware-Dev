import sys




def xor(data, key):
    key = str(key)
    key_length = len(key)
    output = ""

    j = 0
    for i in data:
        output += chr(i ^ ord(key[j]))
        j = (j + 1) % key_length

    return output



try:
     plaintext = open(sys.argv[1], "rb").read()
except:
    print("File could not be opened")

key = ""
try:
     key = str(sys.argv[2])
except:
    print("need a key")

print("key: %s" % key)
print("plaintext: %s" % plaintext)

ciphertext = xor(plaintext,  key)
print('{0x' + ', 0x'.join(hex(ord(x))[2:] for x in ciphertext) + '};')

